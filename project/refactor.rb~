require './transaction.rb'
require './operation.rb'

	# check if the line is empty
def line_is_empty? line
	check = line.clone
	check.strip!.empty?
end

@file = File.new "script.txt"

@transactions = []

while line = @file.gets

	if line_is_empty? line
		next	# skips to the next iteration
	end

	@transaction = Transaction.new line.split[0], line.split[1], line.split[2]
	range = line.split[1].to_i

	puts range

	range.times do	
		temp = @file.gets
		operation = Operation.new temp.split[0], temp.spli[1]
		puts temp
		@transaction.operations << operation
	end
	@transactions << @transaction

end

puts @transactions.size
